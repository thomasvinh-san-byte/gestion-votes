# =============================================================================
# AG-VOTE — Root .htaccess (défense en profondeur)
# Protège les fichiers sensibles hors du webroot public/
# =============================================================================

# Bloquer l'accès direct au .env et fichiers sensibles
<FilesMatch "^\.(env|gitignore|gitattributes)|composer\.(json|lock)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order deny,allow
        Deny from all
    </IfModule>
</FilesMatch>

# Bloquer l'accès aux répertoires hors webroot
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(app|database|datasets|vendor)/ - [F,L]
</IfModule>
