<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Administration syst√®me - AG-VOTE">
  <title>Administration ‚Äî AG-VOTE</title>
  <link rel="stylesheet" href="/assets/css/app.css">
  <style>
    .policy-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--space-4);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-4);
    }

    .policy-card:hover {
      border-color: var(--color-primary);
    }

    .policy-info {
      flex: 1;
    }

    .policy-name {
      font-weight: var(--font-semibold);
    }

    .policy-desc {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
    }

    .system-stat {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-3);
      border-bottom: 1px solid var(--color-border-subtle);
    }

    .system-stat:last-child {
      border-bottom: none;
    }

    .system-stat-label {
      font-size: var(--text-sm);
      color: var(--color-text-secondary);
    }

    .system-stat-value {
      font-weight: var(--font-semibold);
      font-family: var(--font-mono);
    }

    .alert-item {
      display: flex;
      align-items: flex-start;
      gap: var(--space-3);
      padding: var(--space-3);
      border-radius: var(--radius-md);
      background: var(--color-bg-subtle);
      border-left: 3px solid var(--color-border);
    }
    .alert-item.alert-warn { border-left-color: var(--color-warning, #e8a73e); }
    .alert-item.alert-critical { border-left-color: var(--color-danger, #c53030); }
    .alert-item.alert-info { border-left-color: var(--color-primary, #3b82f6); }
  </style>
</head>
<body>
  <div class="app-shell">
        <!-- Sidebar -->
    <aside class="app-sidebar">
      <div class="p-4 border-b">
        <a href="/" class="brand">
          <span class="brand-logo">AG-VOTE</span>
        </a>
      </div>
      <nav class="nav">
        <a class="nav-item" href="/meetings.htmx.html">
          <span class="nav-item-icon">üèõÔ∏è</span>
          <span>Tableau de bord</span>
        </a>
        <a class="nav-item" href="/operator.htmx.html">
          <span class="nav-item-icon">üóÇÔ∏è</span>
          <span>Fiche s√©ance</span>
        </a>
        <a class="nav-item" href="/members.htmx.html">
          <span class="nav-item-icon">üë•</span>
          <span>Membres</span>
        </a>
        <a class="nav-item" href="/trust.htmx.html">
          <span class="nav-item-icon">üõ°Ô∏è</span>
          <span>Contr√¥le</span>
        </a>
        <a class="nav-item" href="/archives.htmx.html">
          <span class="nav-item-icon">üìö</span>
          <span>Archives</span>
        </a>
        <div class="border-t mt-4 pt-4">
          <a class="nav-item active" href="/admin.htmx.html">
            <span class="nav-item-icon">‚öôÔ∏è</span>
            <span>Administration</span>
          </a>
        </div>
      </nav>
    </aside>

    <!-- Header -->
    <header class="app-header">
      <div class="flex items-center gap-4">
        <div>
          <h1 class="text-xl font-bold">‚öôÔ∏è Administration</h1>
          <p class="text-sm text-secondary">Param√©trage syst√®me et politiques</p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <button class="btn btn-secondary" id="btnRefresh">
          üîÑ Actualiser
        </button>
        <button class="btn btn-ghost btn-icon" type="button" data-drawer="guide" title="Guide de configuration">
          üìñ
        </button>
        <button class="btn btn-ghost btn-icon" type="button" data-drawer="menu" title="Menu">
          ‚ò∞
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <div class="container">
        <!-- Notification area -->
        <div id="notif_box" class="hidden mb-4"></div>

        <!-- System Status -->
        <div class="card mb-6">
          <div class="card-header">
            <div class="flex items-center justify-between">
              <div>
                <h3 class="card-title">Statut syst√®me</h3>
                <p class="card-description">Connexions, latence, compteurs</p>
              </div>
              <span class="badge badge-success badge-dot" id="systemStatus">En ligne</span>
            </div>
          </div>
          <div class="card-body p-0">
            <div id="systemStats">
              <div class="system-stat">
                <span class="system-stat-label">Base de donn√©es</span>
                <span class="system-stat-value" id="statDbStatus">Chargement...</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">Latence DB</span>
                <span class="system-stat-value" id="statDbLatency">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">Connexions actives</span>
                <span class="system-stat-value" id="statDbConnections">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">S√©ances en cours</span>
                <span class="system-stat-value" id="statActiveMeetings">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">Total s√©ances</span>
                <span class="system-stat-value" id="statTotalMeetings">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">Membres actifs</span>
                <span class="system-stat-value" id="statTotalMembers">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">R√©solutions</span>
                <span class="system-stat-value" id="statTotalMotions">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">Version PHP</span>
                <span class="system-stat-value" id="statPhpVersion">‚Äî</span>
              </div>
              <div class="system-stat">
                <span class="system-stat-label">M√©moire</span>
                <span class="system-stat-value" id="statMemory">‚Äî</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Alerts -->
        <div class="card mb-6" id="alertsCard" style="display:none;">
          <div class="card-header">
            <h3 class="card-title">Alertes r√©centes</h3>
          </div>
          <div class="card-body">
            <div class="flex flex-col gap-3" id="alertsList"></div>
          </div>
        </div>

        <!-- Policies Grid -->
        <div class="grid grid-cols-2 gap-6 mb-6">
          <!-- Quorum Policies -->
          <div class="card">
            <div class="card-header">
              <div class="flex items-center justify-between">
                <div>
                  <h3 class="card-title">üìä Politiques de quorum</h3>
                  <p class="card-description">Mod√®les r√©utilisables</p>
                </div>
                <button class="btn btn-primary btn-sm" id="btnNewQuorum">
                  + Nouveau
                </button>
              </div>
            </div>
            <div class="card-body">
              <div class="flex flex-col gap-3" id="quorumList">
                <div class="text-center p-4 text-muted">Chargement...</div>
              </div>
            </div>
          </div>

          <!-- Vote Policies -->
          <div class="card">
            <div class="card-header">
              <div class="flex items-center justify-between">
                <div>
                  <h3 class="card-title">üó≥Ô∏è Politiques de vote</h3>
                  <p class="card-description">R√®gles de majorit√©</p>
                </div>
                <button class="btn btn-primary btn-sm" id="btnNewVote">
                  + Nouveau
                </button>
              </div>
            </div>
            <div class="card-body">
              <div class="flex flex-col gap-3" id="voteList">
                <div class="text-center p-4 text-muted">Chargement...</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Danger Zone -->
        <div class="card" style="border-color: var(--color-danger);">
          <div class="card-header" style="background: var(--color-danger-subtle);">
            <h3 class="card-title text-danger">‚ö†Ô∏è Zone dangereuse</h3>
            <p class="card-description">Actions irr√©versibles</p>
          </div>
          <div class="card-body">
            <div class="flex items-center justify-between gap-4 p-4 bg-surface rounded-lg border">
              <div>
                <div class="font-semibold">R√©initialiser les donn√©es de d√©mo</div>
                <div class="text-sm text-muted">Supprime toutes les s√©ances et recharge les donn√©es de test</div>
              </div>
              <button class="btn btn-danger" id="btnResetDemo">
                üóëÔ∏è R√©initialiser
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" style="display: none;"></div>
  <div class="modal" id="modal" style="display: none;">
    <div class="modal-header">
      <h3 class="modal-title" id="modalTitle">Nouvelle politique</h3>
      <button class="btn btn-ghost btn-icon btn-sm" id="btnCloseModal">‚úï</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
    <div class="modal-footer">
      <button class="btn btn-ghost" id="btnCancelModal">Annuler</button>
      <button class="btn btn-primary" id="btnSaveModal">Enregistrer</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/assets/js/utils.js"></script>
  <script src="/assets/js/shell.js"></script>

  <script>
  (function() {
    'use strict';

    // Load system status
    async function loadSystemStatus() {
      try {
        const { body } = await api('/api/v1/admin_system_status.php');

        if (body && body.ok && body.data) {
          const s = body.data.system || body.data;

          document.getElementById('statDbStatus').textContent = 'Connect√©e';
          document.getElementById('statDbStatus').className = 'system-stat-value text-success';
          document.getElementById('statDbLatency').textContent =
            s.db_latency_ms != null ? s.db_latency_ms + ' ms' : '‚Äî';
          document.getElementById('statDbConnections').textContent =
            s.db_active_connections ?? '‚Äî';
          document.getElementById('statActiveMeetings').textContent =
            s.active_meetings ?? '‚Äî';
          document.getElementById('statTotalMeetings').textContent =
            s.count_meetings ?? '‚Äî';
          document.getElementById('statTotalMembers').textContent =
            s.total_members ?? '‚Äî';
          document.getElementById('statTotalMotions').textContent =
            s.count_motions ?? '‚Äî';
          document.getElementById('statPhpVersion').textContent =
            s.php_version || '‚Äî';
          document.getElementById('statMemory').textContent =
            s.memory_usage || '‚Äî';

          const status = document.getElementById('systemStatus');
          status.className = 'badge badge-success badge-dot';
          status.textContent = 'En ligne';

          // Alerts
          const alerts = body.data.alerts || [];
          const alertsCard = document.getElementById('alertsCard');
          const alertsList = document.getElementById('alertsList');
          if (alerts.length > 0) {
            alertsCard.style.display = '';
            alertsList.innerHTML = alerts.map(function(a) {
              var cls = a.severity === 'critical' ? 'alert-critical' : (a.severity === 'warn' ? 'alert-warn' : 'alert-info');
              return '<div class="alert-item ' + cls + '">' +
                '<div><strong>' + escapeHtml(a.code || '') + '</strong>' +
                '<div class="text-sm text-muted">' + escapeHtml(a.message || '') + '</div>' +
                '<div class="text-xs text-muted">' + formatDate(a.created_at) + '</div></div></div>';
            }).join('');
          } else {
            alertsCard.style.display = 'none';
          }
        } else {
          document.getElementById('statDbStatus').textContent = 'Erreur';
          document.getElementById('statDbStatus').className = 'system-stat-value text-danger';
          var status = document.getElementById('systemStatus');
          status.className = 'badge badge-danger';
          status.textContent = 'Erreur';
        }
      } catch (err) {
        document.getElementById('statDbStatus').textContent = 'Hors ligne';
        document.getElementById('statDbStatus').className = 'system-stat-value text-danger';
        var status = document.getElementById('systemStatus');
        status.className = 'badge badge-danger';
        status.textContent = 'Erreur';
        console.error('System status error:', err);
      }
    }

    // Load quorum policies
    async function loadQuorumPolicies() {
      try {
        const { body } = await api('/api/v1/quorum_policies.php');
        
        if (body && body.ok && body.data && Array.isArray(body.data.items)) {
          const container = document.getElementById('quorumList');

          if (body.data.items.length === 0) {
            container.innerHTML = `
              <div class="text-center p-4 text-muted">
                Aucune politique configur√©e
              </div>
            `;
            return;
          }

          container.innerHTML = body.data.items.map(p => `
            <div class="policy-card">
              <div class="policy-info">
                <div class="policy-name">${escapeHtml(p.name)}</div>
                <div class="policy-desc">${escapeHtml(p.description || p.mode || '')}: seuil ${Math.round((p.threshold || 0) * 100)}%</div>
              </div>
              <button class="btn btn-ghost btn-sm btn-edit-quorum"
                data-name="${escapeHtml(p.name)}"
                data-mode="${p.mode || 'single'}"
                data-threshold="${Math.round((p.threshold || 0.5) * 100)}">Modifier</button>
            </div>
          `).join('');
        }
      } catch (err) {
        console.error('Quorum policies error:', err);
      }
    }

    // Load vote policies
    async function loadVotePolicies() {
      try {
        const { body } = await api('/api/v1/vote_policies.php');

        if (body && body.ok && body.data && Array.isArray(body.data.items)) {
          const container = document.getElementById('voteList');

          if (body.data.items.length === 0) {
            container.innerHTML = `
              <div class="text-center p-4 text-muted">
                Aucune politique configur√©e
              </div>
            `;
            return;
          }

          const baseLabel = { expressed: 'voters', total_eligible: 'present' };
          container.innerHTML = body.data.items.map(p => `
            <div class="policy-card">
              <div class="policy-info">
                <div class="policy-name">${escapeHtml(p.name)}</div>
                <div class="policy-desc">${escapeHtml(p.description || p.base || '')}: seuil ${Math.round((p.threshold || 0) * 100)}%</div>
              </div>
              <button class="btn btn-ghost btn-sm btn-edit-vote"
                data-name="${escapeHtml(p.name)}"
                data-base="${baseLabel[p.base] || 'voters'}"
                data-threshold="${Math.round((p.threshold || 0.5) * 100)}"
                data-abstention="${p.abstention_as_against ? '1' : '0'}">Modifier</button>
            </div>
          `).join('');
        }
      } catch (err) {
        console.error('Vote policies error:', err);
      }
    }

    // Modal functions
    const modal = document.getElementById('modal');
    const backdrop = document.getElementById('modalBackdrop');
    
    function openModal(title, content) {
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalBody').innerHTML = content;
      modal.style.display = 'block';
      backdrop.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
      modal.style.display = 'none';
      backdrop.style.display = 'none';
      document.body.style.overflow = '';
    }
    
    document.getElementById('btnCloseModal').addEventListener('click', closeModal);
    document.getElementById('btnCancelModal').addEventListener('click', closeModal);
    backdrop.addEventListener('click', closeModal);

    let _modalType = null; // 'quorum' or 'vote'

    // New quorum policy
    document.getElementById('btnNewQuorum').addEventListener('click', () => {
      _modalType = 'quorum';
      openModal('Nouvelle politique de quorum', `
        <div class="form-group mb-4">
          <label class="form-label">Nom</label>
          <input class="form-input" type="text" id="policyName" placeholder="Ex: Quorum renforc√©">
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Type</label>
          <select class="form-input" id="policyType">
            <option value="simple">Simple (seuil fixe)</option>
            <option value="evolving">√âvolutif (2 appels)</option>
            <option value="double">Double (pr√©sents + voix)</option>
          </select>
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Seuil (%)</label>
          <input class="form-input" type="number" id="policyThreshold" value="50" min="1" max="100">
        </div>
      `);
    });

    // New vote policy
    document.getElementById('btnNewVote').addEventListener('click', () => {
      _modalType = 'vote';
      openModal('Nouvelle politique de vote', `
        <div class="form-group mb-4">
          <label class="form-label">Nom</label>
          <input class="form-input" type="text" id="policyName" placeholder="Ex: Majorit√© qualifi√©e">
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Base de calcul</label>
          <select class="form-input" id="policyBase">
            <option value="voters">Votants (exprim√©s)</option>
            <option value="present">Pr√©sents</option>
            <option value="members">Tous les membres</option>
          </select>
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Seuil (%)</label>
          <input class="form-input" type="number" id="policyThreshold" value="50" min="1" max="100">
        </div>
        <div class="form-group">
          <label class="flex items-center gap-2">
            <input type="checkbox" id="policyCountAbstain">
            <span>Compter les abstentions</span>
          </label>
        </div>
      `);
    });

    // Save policy from modal
    document.getElementById('btnSaveModal').addEventListener('click', async () => {
      const name = (document.getElementById('policyName')?.value || '').trim();
      if (!name) { setNotif('error', 'Le nom est requis'); return; }

      const threshold = parseInt(document.getElementById('policyThreshold')?.value || '50', 10);
      if (threshold < 1 || threshold > 100) { setNotif('error', 'Seuil entre 1 et 100'); return; }

      try {
        let endpoint, payload;

        if (_modalType === 'quorum') {
          const typeMap = { simple: 'single', evolving: 'evolving', double: 'double' };
          const rawType = document.getElementById('policyType')?.value || 'simple';
          endpoint = '/api/v1/admin_quorum_policies.php';
          payload = {
            name,
            mode: typeMap[rawType] || 'single',
            threshold: threshold / 100,
            denominator: 'eligible_members',
          };
        } else {
          const baseMap = { voters: 'expressed', present: 'total_eligible', members: 'total_eligible' };
          const rawBase = document.getElementById('policyBase')?.value || 'voters';
          const countAbstain = document.getElementById('policyCountAbstain')?.checked || false;
          endpoint = '/api/v1/admin_vote_policies.php';
          payload = {
            name,
            base: baseMap[rawBase] || 'expressed',
            threshold: threshold / 100,
            abstention_as_against: countAbstain ? '1' : '0',
          };
        }

        const { body } = await api(endpoint, payload);
        if (body && body.ok) {
          setNotif('success', 'Politique enregistr√©e');
          closeModal();
          loadQuorumPolicies();
          loadVotePolicies();
        } else {
          setNotif('error', body?.error || 'Erreur sauvegarde');
        }
      } catch (err) {
        setNotif('error', err.message);
      }
    });

    // Edit quorum policy (delegated click)
    document.getElementById('quorumList').addEventListener('click', (e) => {
      const btn = e.target.closest('.btn-edit-quorum');
      if (!btn) return;
      _modalType = 'quorum';
      const modeMap = { single: 'simple', evolving: 'evolving', double: 'double' };
      openModal('Modifier politique de quorum', `
        <div class="form-group mb-4">
          <label class="form-label">Nom</label>
          <input class="form-input" type="text" id="policyName" value="${btn.dataset.name || ''}">
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Type</label>
          <select class="form-input" id="policyType">
            <option value="simple" ${btn.dataset.mode === 'single' ? 'selected' : ''}>Simple (seuil fixe)</option>
            <option value="evolving" ${btn.dataset.mode === 'evolving' ? 'selected' : ''}>√âvolutif (2 appels)</option>
            <option value="double" ${btn.dataset.mode === 'double' ? 'selected' : ''}>Double (pr√©sents + voix)</option>
          </select>
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Seuil (%)</label>
          <input class="form-input" type="number" id="policyThreshold" value="${btn.dataset.threshold || '50'}" min="1" max="100">
        </div>
      `);
    });

    // Edit vote policy (delegated click)
    document.getElementById('voteList').addEventListener('click', (e) => {
      const btn = e.target.closest('.btn-edit-vote');
      if (!btn) return;
      _modalType = 'vote';
      openModal('Modifier politique de vote', `
        <div class="form-group mb-4">
          <label class="form-label">Nom</label>
          <input class="form-input" type="text" id="policyName" value="${btn.dataset.name || ''}">
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Base de calcul</label>
          <select class="form-input" id="policyBase">
            <option value="voters" ${btn.dataset.base === 'voters' ? 'selected' : ''}>Votants (exprim√©s)</option>
            <option value="present" ${btn.dataset.base === 'present' ? 'selected' : ''}>Pr√©sents</option>
            <option value="members" ${btn.dataset.base === 'members' ? 'selected' : ''}>Tous les membres</option>
          </select>
        </div>
        <div class="form-group mb-4">
          <label class="form-label">Seuil (%)</label>
          <input class="form-input" type="number" id="policyThreshold" value="${btn.dataset.threshold || '50'}" min="1" max="100">
        </div>
        <div class="form-group">
          <label class="flex items-center gap-2">
            <input type="checkbox" id="policyCountAbstain" ${btn.dataset.abstention === '1' ? 'checked' : ''}>
            <span>Compter les abstentions</span>
          </label>
        </div>
      `);
    });

    // Reset demo
    document.getElementById('btnResetDemo').addEventListener('click', async () => {
      if (!confirm('‚ö†Ô∏è ATTENTION: Cette action va supprimer TOUTES les donn√©es et r√©initialiser la d√©mo.\n\nContinuer ?')) {
        return;
      }
      
      try {
        const { body } = await api('/api/v1/admin_reset_demo.php', {});
        
        if (body && body.ok) {
          setNotif('success', '‚úÖ Donn√©es de d√©mo r√©initialis√©es');
          loadSystemStatus();
        } else {
          setNotif('error', body?.error || 'Erreur r√©initialisation');
        }
      } catch (err) {
        setNotif('error', err.message);
      }
    });

    // Refresh
    document.getElementById('btnRefresh').addEventListener('click', () => {
      loadSystemStatus();
      loadQuorumPolicies();
      loadVotePolicies();
    });

    // Register guide drawer
    if (window.ShellDrawer && window.ShellDrawer.register) {
      window.ShellDrawer.register('guide', 'Guide', function(meetingId, body, esc) {
        body.innerHTML =
          '<div style="display:flex;flex-direction:column;gap:16px;padding:4px 0;">' +
            '<div>' +
              '<div style="font-weight:600;margin-bottom:8px;">1. Base de donn√©es</div>' +
              '<div class="text-sm">Cr√©er la base et charger le sch√©ma :</div>' +
              '<pre class="text-xs" style="background:var(--color-bg-subtle,#f5f5f5);padding:8px;border-radius:6px;margin-top:4px;overflow-x:auto;">' +
                'sudo -u postgres createdb vote_app\n' +
                'sudo -u postgres psql vote_app &lt; database/schema.sql\n' +
                'sudo -u postgres psql vote_app &lt; database/seed_demo.sql' +
              '</pre>' +
            '</div>' +
            '<div>' +
              '<div style="font-weight:600;margin-bottom:8px;">2. Configuration</div>' +
              '<div class="text-sm">Copier le fichier d\'environnement :</div>' +
              '<pre class="text-xs" style="background:var(--color-bg-subtle,#f5f5f5);padding:8px;border-radius:6px;margin-top:4px;overflow-x:auto;">' +
                'cp .env.example .env\n' +
                '# √âditer DB_DSN, DB_USER, DB_PASS' +
              '</pre>' +
            '</div>' +
            '<div>' +
              '<div style="font-weight:600;margin-bottom:8px;">3. Serveur PHP</div>' +
              '<div class="text-sm">D√©marrer le serveur de dev :</div>' +
              '<pre class="text-xs" style="background:var(--color-bg-subtle,#f5f5f5);padding:8px;border-radius:6px;margin-top:4px;overflow-x:auto;">' +
                'php -S localhost:8080 -t public/' +
              '</pre>' +
            '</div>' +
            '<div>' +
              '<div style="font-weight:600;margin-bottom:8px;">4. Politiques</div>' +
              '<div class="text-sm">Configurez les politiques de quorum et de vote sur cette page pour d√©finir les r√®gles de vos assembl√©es.</div>' +
            '</div>' +
            '<div>' +
              '<div style="font-weight:600;margin-bottom:8px;">5. Membres</div>' +
              '<div class="text-sm">Ajoutez vos membres via la page Membres, avec leur nom, email et poids de vote.</div>' +
            '</div>' +
          '</div>';
      });
    }

    // Initial load
    loadSystemStatus();
    loadQuorumPolicies();
    loadVotePolicies();
  })();
  </script>

  <!-- Drawer -->
  <div class="drawer-backdrop" data-drawer-close></div>
  <aside class="drawer" id="drawer">
    <div class="drawer-header">
      <div id="drawerTitle" class="font-semibold">Menu</div>
      <button class="btn btn-ghost btn-icon btn-sm" type="button" data-drawer-close title="Fermer">‚úï</button>
    </div>
    <div id="drawerBody" class="drawer-body"></div>
  </aside>
</body>
</html>
