/* public/assets/css/ui.css
/* ---------------------------------------------------------
   0) Reset + base
--------------------------------------------------------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ -webkit-text-size-adjust:100%; text-size-adjust:100%; }

body{
  margin:0;
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
  font-size: 14px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img,svg,video,canvas{ max-width:100%; height:auto; }
button,input,select,textarea{ font: inherit; }
a{ color: inherit; text-decoration:none; }
a:hover{ color: var(--primary); }
code,kbd,pre{ font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; }

/* ---------------------------------------------------------
   1) Design Tokens
--------------------------------------------------------- */
:root{
  color-scheme: light;

  --font: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

  /* Spacing scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 40px;
  --space-8: 48px;

  /* Radius */
  --radius-xs: 6px;
  --radius-sm: 8px;
  --radius: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;

  /* Layout */
  --header-h: 56px;
  --sidebar-w: 260px;
  --drawer-w: 420px;
  --content-max: 1200px;

  /* Motion */
  --ease: cubic-bezier(.22, .68, 0, 1);
  --dur-1: 120ms;
  --dur-2: 200ms;
  --dur-3: 320ms;

  /* --- Light palette --- */
  --bg: #f8f9fc;
  --bg-subtle: #f1f3f9;
  --panel: #ffffff;
  --panel-2: rgba(255,255,255,.82);
  --text: #111827;
  --text-secondary: #4b5563;
  --muted: #6b7280;
  --border: #e5e7eb;
  --border-strong: #d1d5db;

  --primary: #4f46e5;
  --primary-hover: #4338ca;
  --primary-light: #eef2ff;
  --primary-ink: #ffffff;

  --success: #059669;
  --success-light: #ecfdf5;
  --warning: #d97706;
  --warning-light: #fffbeb;
  --danger: #dc2626;
  --danger-light: #fef2f2;
  --info: #0284c7;
  --info-light: #f0f9ff;

  --shadow-xs: 0 1px 2px rgba(0,0,0,.05);
  --shadow-sm: 0 1px 3px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.06);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,.1), 0 2px 4px -1px rgba(0,0,0,.06);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -2px rgba(0,0,0,.05);
  --shadow-xl: 0 20px 25px -5px rgba(0,0,0,.1), 0 10px 10px -5px rgba(0,0,0,.04);

  --ring: rgba(79,70,229,.4);
}

/* Dark mode */
@media (prefers-color-scheme: dark){
  :root:not([data-theme="light"]){
    color-scheme: dark;
    --bg: #0f1117;
    --bg-subtle: #161925;
    --panel: #1a1d2e;
    --panel-2: rgba(26,29,46,.85);
    --text: #f1f3f9;
    --text-secondary: #a1a9bd;
    --muted: #8891a8;
    --border: rgba(255,255,255,.08);
    --border-strong: rgba(255,255,255,.14);

    --primary: #818cf8;
    --primary-hover: #a5b4fc;
    --primary-light: rgba(129,140,248,.12);
    --primary-ink: #111827;

    --success: #34d399;
    --success-light: rgba(52,211,153,.1);
    --warning: #fbbf24;
    --warning-light: rgba(251,191,36,.1);
    --danger: #f87171;
    --danger-light: rgba(248,113,113,.1);
    --info: #38bdf8;
    --info-light: rgba(56,189,248,.1);

    --shadow-xs: 0 1px 2px rgba(0,0,0,.3);
    --shadow-sm: 0 1px 3px rgba(0,0,0,.4);
    --shadow-md: 0 4px 6px rgba(0,0,0,.35);
    --shadow-lg: 0 10px 15px rgba(0,0,0,.35);
    --shadow-xl: 0 20px 25px rgba(0,0,0,.4);

    --ring: rgba(129,140,248,.4);
  }
}
:root[data-theme="dark"]{
  color-scheme: dark;
  --bg: #0f1117;
  --bg-subtle: #161925;
  --panel: #1a1d2e;
  --panel-2: rgba(26,29,46,.85);
  --text: #f1f3f9;
  --text-secondary: #a1a9bd;
  --muted: #8891a8;
  --border: rgba(255,255,255,.08);
  --border-strong: rgba(255,255,255,.14);

  --primary: #818cf8;
  --primary-hover: #a5b4fc;
  --primary-light: rgba(129,140,248,.12);
  --primary-ink: #111827;

  --success: #34d399;
  --success-light: rgba(52,211,153,.1);
  --warning: #fbbf24;
  --warning-light: rgba(251,191,36,.1);
  --danger: #f87171;
  --danger-light: rgba(248,113,113,.1);
  --info: #38bdf8;
  --info-light: rgba(56,189,248,.1);

  --shadow-xs: 0 1px 2px rgba(0,0,0,.3);
  --shadow-sm: 0 1px 3px rgba(0,0,0,.4);
  --shadow-md: 0 4px 6px rgba(0,0,0,.35);
  --shadow-lg: 0 10px 15px rgba(0,0,0,.35);
  --shadow-xl: 0 20px 25px rgba(0,0,0,.4);

  --ring: rgba(129,140,248,.4);
}

/* ---------------------------------------------------------
   2) Utilities
--------------------------------------------------------- */
.hidden{ display:none !important; }
.muted{ color: var(--muted) !important; }
.tiny{ font-size:12px; }
.hr{ border-top: 1px solid var(--border); margin: var(--space-3) 0; }
.pad{ padding: var(--space-4); }

.row{ display:flex; align-items:center; gap:10px; }
.row.between{ justify-content: space-between; }
.row.wrap{ flex-wrap: wrap; }
.col{ display:flex; flex-direction:column; gap:10px; }
.grid{ display:grid; gap: 12px; }
.stack{ display:flex; flex-direction:column; gap: var(--space-3); }
.grow{ flex:1 1 0%; min-width:0; }

/* Typo helpers */
.h1{ font-size: 22px; font-weight: 700; letter-spacing: -.02em; margin: 0 0 8px; color: var(--text); }
.h2{ font-size: 16px; font-weight: 600; margin: 0 0 6px; color: var(--text); }
.h3{ font-size: 14px; font-weight: 600; margin: 0 0 4px; color: var(--text); }

.callout{
  padding: var(--space-3);
  background: var(--bg-subtle);
  border-radius: var(--radius-sm);
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
}
.notif{
  padding: var(--space-3);
  border-radius: var(--radius-sm);
  font-size: 13px;
  border: 1px solid var(--border);
  background: var(--panel);
}

/* ---------------------------------------------------------
   3) Focus + selection
--------------------------------------------------------- */
:focus-visible{
  outline: 2px solid var(--ring);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}
::selection{ background: rgba(79,70,229,.18); }

/* ---------------------------------------------------------
   4) Cards / panels
--------------------------------------------------------- */
.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-xs);
  transition: box-shadow var(--dur-2) var(--ease);
}
.card:hover{ box-shadow: var(--shadow-sm); }
.card.pad{ padding: var(--space-4); }
.card.soft{ box-shadow: none; }
.card.headered .card-head{
  padding: var(--space-4);
  border-bottom: 1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: var(--space-3);
}
.card.headered .card-body{ padding: var(--space-4); }
.card-head{
  padding: var(--space-4);
  border-bottom: 1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: var(--space-3);
}
.card-body{ padding: var(--space-4); }

/* Stat card */
.stat-card{
  display:flex;
  flex-direction:column;
  gap: 2px;
  padding: var(--space-4) var(--space-5);
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
}
.stat-card .stat-value{
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -.02em;
  color: var(--text);
  line-height: 1.2;
}
.stat-card .stat-label{
  font-size: 12px;
  font-weight: 500;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: .04em;
}
.stat-card .stat-change{
  font-size: 12px;
  font-weight: 600;
  margin-top: 4px;
}
.stat-card .stat-change.up{ color: var(--success); }
.stat-card .stat-change.down{ color: var(--danger); }

/* ---------------------------------------------------------
   5) Buttons
--------------------------------------------------------- */
.btn, .icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  padding: 8px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  box-shadow: var(--shadow-xs);
  cursor: pointer;
  user-select:none;
  font-weight: 500;
  font-size: 13px;
  line-height: 1.4;
  transition:
    all var(--dur-2) var(--ease);
  white-space: nowrap;
}

.btn:hover, .icon-btn:hover{
  border-color: var(--border-strong);
  box-shadow: var(--shadow-sm);
  background: var(--bg-subtle);
}
.btn:active, .icon-btn:active{ transform: translateY(1px); }

.btn.primary{
  background: var(--primary);
  color: var(--primary-ink);
  border-color: var(--primary);
  box-shadow: var(--shadow-sm);
  font-weight: 600;
}
.btn.primary:hover{
  background: var(--primary-hover);
  border-color: var(--primary-hover);
  box-shadow: var(--shadow-md);
}

.btn.secondary{
  background: var(--primary-light);
  border-color: transparent;
  color: var(--primary);
  font-weight: 600;
}
.btn.secondary:hover{
  background: color-mix(in srgb, var(--primary-light) 80%, var(--primary));
}

.btn.ghost{
  background: transparent;
  border-color: transparent;
  box-shadow: none;
}
.btn.ghost:hover{
  background: var(--bg-subtle);
  border-color: var(--border);
}

.btn.danger{
  background: var(--danger-light);
  border-color: transparent;
  color: var(--danger);
  font-weight: 600;
}
.btn.danger:hover{
  background: color-mix(in srgb, var(--danger-light) 70%, var(--danger));
}

.btn.sm{ padding: 5px 10px; font-size: 12px; border-radius: var(--radius-xs); }
.btn.lg{ padding: 10px 18px; font-size: 14px; border-radius: var(--radius); }
.btn.xl{ padding: 12px 24px; font-size: 15px; border-radius: var(--radius); font-weight: 600; }

.icon-btn{
  width: 36px;
  height: 36px;
  padding: 0;
  border-radius: var(--radius-sm);
  font-size: 16px;
}

.btn:disabled, .icon-btn:disabled{
  opacity: .5;
  cursor: not-allowed;
  transform:none;
  box-shadow: none;
}

/* Button group */
.btn-group{ display:inline-flex; gap: 0; }
.btn-group .btn{ border-radius: 0; margin-left: -1px; }
.btn-group .btn:first-child{ border-radius: var(--radius-sm) 0 0 var(--radius-sm); margin-left:0; }
.btn-group .btn:last-child{ border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }

/* ---------------------------------------------------------
   6) Forms
--------------------------------------------------------- */
label{ display:block; font-weight: 500; font-size: 13px; margin-bottom: 4px; color: var(--text-secondary); }
.input, input[type="text"], input[type="number"], input[type="email"], input[type="search"], input[type="password"], input[type="date"], input[type="datetime-local"], input[type="time"], textarea, select{
  width: 100%;
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  box-shadow: var(--shadow-xs);
  outline: none;
  font-size: 14px;
  transition: border-color var(--dur-2) var(--ease), box-shadow var(--dur-2) var(--ease);
}
textarea{ min-height: 80px; resize: vertical; }
input:focus, textarea:focus, select:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--ring);
}
input::placeholder, textarea::placeholder{ color: var(--muted); opacity: .6; }

.field{
  display:flex;
  flex-direction:column;
  gap: 4px;
}
.help{ font-size: 12px; color: var(--muted); }
.error{ font-size: 12px; color: var(--danger); }

.input-row{ display:flex; gap: 10px; align-items: center; flex-wrap:wrap; }
.input-row > *{ flex: 1 1 180px; }

input[type="checkbox"], input[type="radio"]{
  width: 16px;
  height: 16px;
  accent-color: var(--primary);
}

/* ---------------------------------------------------------
   7) Badges / pills / chips
--------------------------------------------------------- */
.badge, .pill{
  display:inline-flex;
  align-items:center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 999px;
  border: none;
  background: var(--bg-subtle);
  color: var(--text-secondary);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: .01em;
  line-height: 1.6;
}
.badge.primary, .badge.ok{ background: var(--primary-light); color: var(--primary); }
.badge.success{ background: var(--success-light); color: var(--success); }
.badge.warning, .badge.warn{ background: var(--warning-light); color: var(--warning); }
.badge.danger{ background: var(--danger-light); color: var(--danger); }
.badge.info{ background: var(--info-light); color: var(--info); }
.badge.neutral{ background: var(--bg-subtle); color: var(--muted); }

/* Status pills */
.pill.status-draft{ background: var(--bg-subtle); color: var(--muted); }
.pill.status-scheduled{ background: var(--info-light); color: var(--info); }
.pill.status-live{ background: var(--success-light); color: var(--success); }
.pill.status-closed{ background: var(--warning-light); color: var(--warning); }
.pill.status-archived{ background: var(--bg-subtle); color: var(--muted); }

/* KPI tile */
.kpi{
  display:flex;
  flex-direction:column;
  gap: 4px;
  padding: var(--space-4);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--panel);
}
.kpi .kpi-label{ color: var(--muted); font-weight: 500; font-size: 12px; text-transform: uppercase; letter-spacing: .03em; }
.kpi .kpi-value{ font-weight: 700; font-size: 24px; letter-spacing:-.02em; color: var(--text); }

/* KPIs grid */
.kpis{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-3);
}

/* ---------------------------------------------------------
   8) Tables
--------------------------------------------------------- */
.table, table{
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  overflow:hidden;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  background: var(--panel);
}

th, td{
  padding: 10px 14px;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
  text-align: left;
}
thead th{
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: .05em;
  color: var(--muted);
  background: var(--bg-subtle);
  font-weight: 600;
  padding: 8px 14px;
}
tbody tr:last-child td{ border-bottom: 0; }
tbody tr:hover td{ background: var(--bg-subtle); }

/* ---------------------------------------------------------
   9) Tabs
--------------------------------------------------------- */
.tabs{
  display:flex;
  gap: 0;
  border-bottom: 2px solid var(--border);
}
.tab{
  padding: 10px 16px;
  font-weight: 500;
  font-size: 13px;
  border: none;
  border-bottom: 2px solid transparent;
  margin-bottom: -2px;
  cursor:pointer;
  user-select:none;
  color: var(--muted);
  background: transparent;
  transition: all var(--dur-2) var(--ease);
}
.tab:hover{ color: var(--text); background: var(--bg-subtle); }
.tab.active, .tab.is-active{
  color: var(--primary);
  border-bottom-color: var(--primary);
  font-weight: 600;
}

/* ---------------------------------------------------------
   10) Page layout
--------------------------------------------------------- */
.page-container{
  max-width: var(--content-max);
  margin: 0 auto;
  padding: var(--space-5);
}
.page-header{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: var(--space-4);
  margin-bottom: var(--space-5);
}
.page-title{
  font-weight: 700;
  letter-spacing: -.02em;
  font-size: 15px;
  color: var(--text);
}
.page-subtitle{
  margin-top: 2px;
  color: var(--muted);
  font-weight: 400;
  font-size: 12px;
}
.section-title{
  font-weight: 600;
  font-size: 14px;
  margin: 0 0 8px;
  color: var(--text);
}
.subline{ color: var(--muted); font-size: 13px; margin-top: 2px; }
.toolbar{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 8px;
  flex-wrap: wrap;
}

/* ---------------------------------------------------------
   11) App Shell (header + sidebar + main)
--------------------------------------------------------- */
body.app-shell{ background: var(--bg); color: var(--text); }

.app{
  min-height: 100vh;
  display:grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  grid-template-rows: var(--header-h) 1fr;
  grid-template-areas:
    "sidebar header"
    "sidebar main";
}

/* Header */
.app-header{
  grid-area: header;
  position: sticky;
  top:0;
  z-index: 30;
  height: var(--header-h);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  padding: 0 var(--space-5);
  background: var(--panel-2);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
.header-left, .header-center, .header-right, .header-actions{ display:flex; align-items:center; gap: 8px; }
.header-center{ flex: 1; flex-direction:column; align-items:flex-start; gap: 0; }

.brand{
  display:flex;
  align-items:center;
  gap: 10px;
}
.brand strong{
  font-weight: 700;
  letter-spacing: -.02em;
  font-size: 15px;
  color: var(--text);
}
.brand span{
  font-size: 11px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 999px;
  background: var(--primary-light);
  color: var(--primary);
}

/* Sidebar */
.app-sidebar{
  grid-area: sidebar;
  position: sticky;
  top:0;
  height: 100vh;
  border-right: 1px solid var(--border);
  background: var(--panel);
  overflow-y: auto;
}
.sidebar-inner{
  height: 100%;
  display:flex;
  flex-direction:column;
  padding: var(--space-4);
}

/* Sidebar brand area */
.sidebar-brand{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: var(--space-3) var(--space-3);
  margin-bottom: var(--space-4);
}
.sidebar-brand-icon{
  width: 32px;
  height: 32px;
  border-radius: var(--radius-sm);
  background: var(--primary);
  color: white;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 700;
  font-size: 14px;
}
.sidebar-brand-text{
  font-weight: 700;
  font-size: 15px;
  letter-spacing: -.02em;
  color: var(--text);
}
.sidebar-brand-text small{
  display:block;
  font-weight: 400;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0;
}

/* Nav sections */
.nav-section{
  margin-bottom: var(--space-4);
}
.nav-section-title{
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--muted);
  padding: 0 var(--space-3);
  margin-bottom: var(--space-2);
}

.nav{
  display:flex;
  flex-direction:column;
  gap: 2px;
}
.nav a, .nav .nav-item{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 13px;
  background: transparent;
  transition: all var(--dur-1) var(--ease);
}
.nav a .ico, .nav .nav-item .ico{
  width: 20px;
  text-align:center;
  font-size: 15px;
  flex-shrink: 0;
}
.nav a .lbl, .nav .nav-item .lbl{
  flex: 1;
}
.nav a .nav-badge{
  font-size: 10px;
  font-weight: 600;
  background: var(--danger);
  color: white;
  border-radius: 999px;
  padding: 1px 6px;
  min-width: 18px;
  text-align: center;
}
.nav a:hover, .nav .nav-item:hover{
  background: var(--bg-subtle);
  color: var(--text);
}
.nav a.active, .nav .nav-item.active{
  background: var(--primary-light);
  color: var(--primary);
  font-weight: 600;
}
.sidebar-foot{
  margin-top:auto;
  padding: var(--space-3);
  border-top: 1px solid var(--border);
  color: var(--muted);
  font-size: 11px;
}

/* Main */
.app-main{
  grid-area: main;
  padding: var(--space-5);
  overflow-x: hidden;
}
.app-main > .page-container{ padding: 0; }
.main-inner{ max-width: var(--content-max); }

/* Responsive */
@media (max-width: 980px){
  :root{ --sidebar-w: 72px; }
  .header-center{ display:none; }
  .nav a, .nav .nav-item{ justify-content:center; padding: 10px; }
  .nav a .lbl, .nav .nav-item .lbl{ display:none; }
  .nav a .nav-badge{ display:none; }
  .nav-section-title{ display:none; }
  .sidebar-brand-text{ display:none; }
  .sidebar-brand{ justify-content:center; }
}
@media (max-width: 640px){
  :root{ --sidebar-w: 0px; }
  .app-sidebar{ display:none; }
  .app{ grid-template-columns: 1fr; grid-template-areas: "header" "main"; }
}

/* ---------------------------------------------------------
   12) Drawer
--------------------------------------------------------- */
.drawer{
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: min(var(--drawer-w), 95vw);
  background: var(--panel);
  border-left: 1px solid var(--border);
  box-shadow: var(--shadow-xl);
  transform: translateX(104%);
  transition: transform var(--dur-3) var(--ease);
  z-index: 60;
  display:flex;
  flex-direction:column;
}
.drawer.open, .drawer[data-open]{ transform: translateX(0); }

.drawer-backdrop, .drawer-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.4);
  opacity: 0;
  pointer-events:none;
  transition: opacity var(--dur-2) var(--ease);
  z-index: 55;
}
.drawer-backdrop.open, .drawer-overlay[data-open]{
  opacity: 1;
  pointer-events:auto;
}

.drawer-head, .drawer-header{
  height: var(--header-h);
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 0 var(--space-4);
  border-bottom: 1px solid var(--border);
  background: var(--bg-subtle);
  flex-shrink: 0;
}
.drawer-title{ font-weight: 600; font-size: 14px; }
.drawer-close{ cursor: pointer; }
.drawer-body{ padding: var(--space-4); overflow:auto; flex:1; }
.drawer-actions{
  padding: var(--space-4);
  border-top: 1px solid var(--border);
  background: var(--bg-subtle);
  flex-shrink: 0;
}

/* ---------------------------------------------------------
   13) Modal
--------------------------------------------------------- */
.modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
  padding: var(--space-5);
  z-index: 70;
}
.modal-backdrop.open{ display:flex; }

.modal-card{
  width: min(640px, 96vw);
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  overflow:hidden;
  animation: modalIn var(--dur-3) var(--ease) forwards;
}
@keyframes modalIn{
  from{ opacity:0; transform: translateY(8px) scale(.98); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}
.modal-head{
  padding: var(--space-4) var(--space-5);
  border-bottom: 1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}
.modal-title{ font-weight: 600; font-size: 16px; }
.modal-body{ padding: var(--space-5); }
.modal-actions{
  padding: var(--space-4) var(--space-5);
  border-top: 1px solid var(--border);
  display:flex;
  justify-content:flex-end;
  gap: 8px;
  background: var(--bg-subtle);
}

/* ---------------------------------------------------------
   14) Toasts
--------------------------------------------------------- */
.toast{
  background: var(--panel);
  border: 1px solid var(--border);
  color: var(--text);
  box-shadow: var(--shadow-lg);
  border-radius: var(--radius);
  padding: 10px 14px;
  font-size: 13px;
}
.toast.success{ border-left: 3px solid var(--success); }
.toast.warning{ border-left: 3px solid var(--warning); }
.toast.danger{ border-left: 3px solid var(--danger); }

/* ---------------------------------------------------------
   15) HTMX micro-UX
--------------------------------------------------------- */
.htmx-indicator{
  display:none;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  border: 2px solid var(--border);
  border-top-color: var(--primary);
  animation: spin 700ms linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

.htmx-request .htmx-indicator{ display:inline-block; }
.htmx-request[aria-busy="true"]{ cursor: progress; }
[data-hx-dim="true"].htmx-request{ opacity:.7; pointer-events:none; }

/* ---------------------------------------------------------
   16) Print
--------------------------------------------------------- */
@media print{
  :root{ color-scheme: light; }
  body{ background:#fff !important; color:#000 !important; }
  .card, .table, table{ box-shadow:none !important; }
  .drawer, .drawer-backdrop, .drawer-overlay, .modal-backdrop, .app-sidebar{ display:none !important; }
  .app{ grid-template-columns: 1fr !important; grid-template-areas: "header" "main" !important; }
  .app-header{ position: static !important; backdrop-filter:none !important; background:#fff !important; }
}

/* ---------------------------------------------------------
   17) Stepper (operator flow)
--------------------------------------------------------- */
.stepper{
  display:flex;
  gap: 0;
  overflow-x: auto;
}
.stepper .step{
  flex: 1;
  padding: 10px var(--space-4);
  text-align:center;
  font-size: 12px;
  font-weight: 600;
  color: var(--muted);
  border-bottom: 2px solid var(--border);
  white-space: nowrap;
}
.stepper .step.active{
  color: var(--primary);
  border-bottom-color: var(--primary);
}
.stepper .step.done{
  color: var(--success);
  border-bottom-color: var(--success);
}

/* Live grid (operator) */
.live-grid{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap: var(--space-4);
}
.live-left, .live-right{ min-width: 0; }

@media (max-width: 900px){
  .live-grid{ grid-template-columns: 1fr; }
}

/* Footer action bar */
.footer-actionbar{
  position: sticky;
  bottom: 0;
  background: var(--panel-2);
  backdrop-filter: blur(12px);
  border-top: 1px solid var(--border);
  padding: var(--space-3) var(--space-4);
  margin-top: var(--space-4);
  border-radius: var(--radius) var(--radius) 0 0;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: var(--space-3);
}

/* Controls row */
.controls{
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* Meeting header (partial) */
.meeting-header{
  padding: var(--space-3) var(--space-4);
  margin-bottom: var(--space-4);
}
.meeting-header .meeting-nav{
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-top: var(--space-2);
}

/* KBD */
.kbd{
  font-family: ui-monospace, monospace;
  font-size: 12px;
  background: var(--bg-subtle);
  padding: 2px 6px;
  border-radius: 4px;
  border: 1px solid var(--border);
}

/* ---------------------------------------------------------
   18) Preparation module
--------------------------------------------------------- */
.prep-timeline{
  display:flex;
  flex-direction: column;
  gap: 0;
  position: relative;
  padding-left: var(--space-6);
}
.prep-timeline::before{
  content: '';
  position: absolute;
  left: 15px;
  top: 4px;
  bottom: 4px;
  width: 2px;
  background: var(--border);
}
.prep-timeline-item{
  position: relative;
  padding: var(--space-3) 0;
}
.prep-timeline-item::before{
  content: '';
  position: absolute;
  left: calc(-1 * var(--space-6) + 11px);
  top: var(--space-4);
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--border);
  border: 2px solid var(--panel);
}
.prep-timeline-item.done::before{ background: var(--success); }
.prep-timeline-item.active::before{ background: var(--primary); box-shadow: 0 0 0 4px var(--primary-light); }
.prep-timeline-item.pending::before{ background: var(--muted); }

/* Checklist */
.checklist{
  display:flex;
  flex-direction: column;
  gap: 0;
}
.checklist-item{
  display:flex;
  align-items:center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--border);
  font-size: 13px;
  transition: background var(--dur-1) var(--ease);
}
.checklist-item:last-child{ border-bottom: none; }
.checklist-item:hover{ background: var(--bg-subtle); }
.checklist-item.checked{ color: var(--muted); }
.checklist-item.checked .checklist-label{ text-decoration: line-through; }
.checklist-check{
  width: 20px;
  height: 20px;
  border-radius: var(--radius-xs);
  border: 2px solid var(--border-strong);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor: pointer;
  flex-shrink: 0;
  transition: all var(--dur-1) var(--ease);
}
.checklist-check.checked{
  background: var(--primary);
  border-color: var(--primary);
  color: white;
}
.checklist-label{ flex:1; }
.checklist-meta{ font-size: 11px; color: var(--muted); }

/* Document list */
.doc-list{
  display:flex;
  flex-direction: column;
  gap: 0;
}
.doc-item{
  display:flex;
  align-items:center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--border);
  font-size: 13px;
  transition: background var(--dur-1) var(--ease);
}
.doc-item:last-child{ border-bottom: none; }
.doc-item:hover{ background: var(--bg-subtle); }
.doc-icon{
  width: 36px;
  height: 36px;
  border-radius: var(--radius-sm);
  background: var(--primary-light);
  color: var(--primary);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: 16px;
  flex-shrink: 0;
}
.doc-info{ flex:1; min-width:0; }
.doc-name{ font-weight: 500; color: var(--text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.doc-meta{ font-size: 11px; color: var(--muted); }
.doc-status{ flex-shrink:0; }

/* Progress bar */
.progress-bar{
  height: 6px;
  background: var(--bg-subtle);
  border-radius: 999px;
  overflow: hidden;
}
.progress-bar-fill{
  height: 100%;
  background: var(--primary);
  border-radius: 999px;
  transition: width var(--dur-3) var(--ease);
}
.progress-bar-fill.success{ background: var(--success); }
.progress-bar-fill.warning{ background: var(--warning); }
.progress-bar-fill.danger{ background: var(--danger); }

/* Empty state */
.empty-state{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding: var(--space-8) var(--space-5);
  text-align:center;
  color: var(--muted);
}
.empty-state-icon{
  font-size: 40px;
  margin-bottom: var(--space-4);
  opacity: .5;
}
.empty-state-title{
  font-weight: 600;
  font-size: 16px;
  color: var(--text);
  margin-bottom: var(--space-2);
}
.empty-state-desc{
  font-size: 13px;
  max-width: 360px;
  margin-bottom: var(--space-5);
}

/* ---------------------------------------------------------
   19) Utility classes (Tailwind-compatible)
--------------------------------------------------------- */
.flex{ display:flex; }
.items-center{ align-items:center; }
.justify-between{ justify-content:space-between; }
.gap-1{ gap:.25rem; }
.gap-2{ gap:.5rem; }
.gap-3{ gap:.75rem; }
.gap-4{ gap:1rem; }
.gap-5{ gap:1.25rem; }
.p-2{ padding:.5rem; }
.p-3{ padding:.75rem; }
.p-4{ padding:1rem; }
.px-3{ padding-left:.75rem; padding-right:.75rem; }
.px-4{ padding-left:1rem; padding-right:1rem; }
.py-3{ padding-top:.75rem; padding-bottom:.75rem; }
.py-5{ padding-top:1.25rem; padding-bottom:1.25rem; }

.mt-1{ margin-top:.25rem; }
.mt-2{ margin-top:.5rem; }
.mt-3{ margin-top:.75rem; }
.mt-4{ margin-top:1rem; }
.mt-5{ margin-top:1.25rem; }
.mb-2{ margin-bottom:.5rem; }
.mb-3{ margin-bottom:.75rem; }
.mb-4{ margin-bottom:1rem; }
.ml-5{ margin-left:1.25rem; }

.w-full{ width:100%; }
.text-left{ text-align:left; }
.text-center{ text-align:center; }
.text-xs{ font-size:.75rem; }
.text-sm{ font-size:.875rem; }
.text-lg{ font-size:1.125rem; }
.font-medium{ font-weight:500; }
.font-semibold{ font-weight:600; }
.font-bold{ font-weight:700; }
.font-extrabold{ font-weight:800; }

.rounded-lg{ border-radius: var(--radius-sm); }
.rounded-xl{ border-radius: var(--radius); }
.rounded-2xl{ border-radius: var(--radius-lg); }

.border{ border: 1px solid var(--border); }
.border-b{ border-bottom: 1px solid var(--border); }

.bg-white{ background: var(--panel); }
.bg-white\/90{ background: var(--panel-2); }
.bg-slate-50{ background: var(--bg-subtle); }

.text-slate-500{ color: var(--muted); }
.text-slate-900{ color: var(--text); }

.max-w-3xl{ max-width: 48rem; }
.max-w-7xl{ max-width: 80rem; }

.space-y-1 > * + *{ margin-top:.25rem; }
.space-y-2 > * + *{ margin-top:.5rem; }
.space-y-3 > * + *{ margin-top:.75rem; }
.space-y-4 > * + *{ margin-top:1rem; }

.truncate{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* Item card (for meeting lists etc.) */
.item{
  padding: var(--space-3) var(--space-4);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  margin-bottom: var(--space-2);
  cursor: pointer;
  transition: all var(--dur-1) var(--ease);
}
.item:hover{ background: var(--bg-subtle); border-color: var(--border-strong); }
.item.active{ border-color: var(--primary); background: var(--primary-light); }

/* Small/secondary button compat */
.small{ font-size: 12px; padding: 4px 8px; border-radius: var(--radius-xs); cursor: pointer; border: 1px solid var(--border); background: var(--panel); }
.small:hover{ background: var(--bg-subtle); }
.secondary{ border-color: var(--border); color: var(--text-secondary); }

@media (min-width: 640px){
  .sm\:flex-row{ flex-direction:row; }
  .sm\:items-center{ align-items:center; }
  .sm\:grid-cols-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .sm\:grid-cols-4{ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
@media (min-width: 768px){
  .md\:flex-row{ flex-direction:row; }
  .md\:items-center{ align-items:center; }
  .md\:justify-between{ justify-content:space-between; }
  .md\:grid-cols-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .md\:grid-cols-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  .md\:grid-cols-4{ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
@media (min-width: 1024px){
  .lg\:grid-cols-12{ grid-template-columns: repeat(12, minmax(0,1fr)); }
  .lg\:col-span-4{ grid-column: span 4 / span 4; }
  .lg\:col-span-5{ grid-column: span 5 / span 5; }
  .lg\:col-span-7{ grid-column: span 7 / span 7; }
  .lg\:col-span-8{ grid-column: span 8 / span 8; }
}
